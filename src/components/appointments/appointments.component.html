<p-toast />

<p-table
  [value]="appointments"
  dataKey="id"
  [paginator]="true"
  [totalRecords]="appointments.length"
  [rows]="5"
>

  <ng-template #caption>
    <div class="flex justify-content-end mb-2">
      <p-button
        label="Adauga programare"
        icon="pi pi-calendar-plus"
        (onClick)="addAppointment()"
      />
    </div>
  </ng-template>

  <ng-template #header>
    <tr>
      <th>Client</th>
      <th>Masina</th>
      <th>Data</th>
      <th>Ora</th>
      <th>Mod</th>
      <th>Status</th>
      <th>Actiuni</th>
    </tr>
  </ng-template>

  <ng-template #body let-appointment>
    <tr>
      <td>
        {{ appointment.client.firstName }} {{ appointment.client.lastName }}
      </td>
      <td>{{ appointment.car.licensePlate }}</td>
      <td>{{ appointment.date }}</td>
      <td>{{ appointment.startTime }} - {{ appointment.endTime }}</td>
      <td>{{ appointment.method }}</td>
      <td>{{ appointment.status }}</td>
      <td>
        @if (appointment.status === 'programata') {
        <p-button icon="pi pi-check" (click)="finalize(appointment)"></p-button>
        <p-button icon="pi pi-times" (click)="cancel(appointment)"></p-button>
        }
      </td>
    </tr>
  </ng-template>

  <ng-template #emptymessage>
    <tr>
      <td colspan="7" class="text-center">Nu exista programari</td>
    </tr>
  </ng-template>
</p-table>
